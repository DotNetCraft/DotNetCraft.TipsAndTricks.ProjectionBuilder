name: Auto tag
on:
  push:
    branches:
      - '**'

jobs:
  build:
    name: Create Tag
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4      
      - name: Bump version and push tag 2  
        id: tag_version
        uses: anothrNick/github-tag-action@1.67.0
        env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
            WITH_V: false
            #INITIAL_VERSION: 3.0.5
            DEFAULT_BUMP: patch
            RELEASE_BRANCHES: main,release/*,hotfix/*
            PRE_RELEASE_BRANCHES: develop,feature/*
            TAG_CONTEXT: branch
            PRERELEASE: true